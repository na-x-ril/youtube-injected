let audioNode,previousVideoURL;console.log("allow pasting");const $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),wait=e=>new Promise(o=>setTimeout(o,e));function createAudioNode(e){const o=new AudioContext,n=o.createMediaElementSource(e),i=o.createGain(),t=o.createBiquadFilter(),a=o.createGain(),c={31:{frequency:31,gain:15},62:{frequency:62,gain:10},125:{frequency:125,gain:5},250:{frequency:250,gain:0},500:{frequency:500,gain:-5},1e3:{frequency:1e3,gain:-5},2e3:{frequency:2e3,gain:-0},4e3:{frequency:4e3,gain:5},8e3:{frequency:8e3,gain:10},16e3:{frequency:16e3,gain:1}};for(const e in c){const o=c[e];t.frequency.value=o.frequency,t.Q.value=1.4,t.gain.value=o.gain}return i.gain.value=.7,a.gain.value=1.9,n.connect(i),i.connect(t),t.connect(a),a.connect(o.destination),console.log("Bass Boosted!"),!0}function resetGlobalVariables(){audioNode=null}function isTwitchLive(e){return/https:\/\/www\.twitch\.tv\/[a-zA-Z0-9_]+/.test(e)}(async()=>{for(;;){const e=window.location.href;if($("video")&&!0!==audioNode){const e=$("video");audioNode=createAudioNode(e)}if(previousVideoURL!==e&&$("body")){if(resetGlobalVariables(),previousVideoURL=e,isTwitchLive(location.href)&&!0!==audioNode){const e=$("video");audioNode=createAudioNode(e)}previousVideoURL=e}await wait(100)}})();